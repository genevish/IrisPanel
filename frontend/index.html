<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>The Iris Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        surface: {
                            DEFAULT: '#16161e',
                            hover: '#1e1e2a',
                            border: '#2a2a3a',
                        },
                        iris: {
                            bg: '#0a0a0f',
                            bg2: '#111118',
                            accent: '#6366f1',
                            glow: '#fbbf24',
                            text: '#f1f5f9',
                            muted: '#94a3b8',
                            dim: '#64748b',
                        },
                    },
                },
            },
        };
    </script>
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18?dev",
            "react-dom/client": "https://esm.sh/react-dom@18/client?dev",
            "htm": "https://esm.sh/htm@3"
        }
    }
    </script>
    <style>
        * {
            touch-action: manipulation;
            -webkit-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
        }
        html {
            overflow: auto;
            height: 100%;
        }
        body {
            background: linear-gradient(165deg, #0a0a0f 0%, #111118 100%);
            min-height: 100%;
            overflow-y: scroll;
            -webkit-overflow-scrolling: touch;
        }
        #root {
            min-height: 100%;
            overflow-y: auto;
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #2a2a3a; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #3a3a4a; }
        /* Range slider */
        input[type="range"] { -webkit-appearance: none; appearance: none; background: transparent; }
        input[type="range"]::-webkit-slider-runnable-track { height: 6px; border-radius: 3px; background: #2a2a3a; }
        input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 20px; height: 20px; border-radius: 50%; background: #f1f5f9; margin-top: -7px; cursor: pointer; box-shadow: 0 1px 4px rgba(0,0,0,.4); }
        input[type="range"]::-moz-range-track { height: 6px; border-radius: 3px; background: #2a2a3a; border: none; }
        input[type="range"]::-moz-range-thumb { width: 20px; height: 20px; border-radius: 50%; background: #f1f5f9; border: none; cursor: pointer; box-shadow: 0 1px 4px rgba(0,0,0,.4); }
        /* Toggle switch */
        .toggle-track { width: 48px; height: 26px; border-radius: 13px; background: #2a2a3a; position: relative; cursor: pointer; transition: background .2s; }
        .toggle-track.on { background: #22c55e; }
        .toggle-thumb { width: 22px; height: 22px; border-radius: 50%; background: #fff; position: absolute; top: 2px; left: 2px; transition: transform .2s; box-shadow: 0 1px 3px rgba(0,0,0,.3); }
        .toggle-track.on .toggle-thumb { transform: translateX(22px); }
        /* Color picker overlay */
        .color-swatch { position: relative; }
        .color-swatch input[type="color"] { position: absolute; inset: 0; opacity: 0; cursor: pointer; width: 100%; height: 100%; }
        /* Spinner */
        @keyframes spin { to { transform: rotate(360deg); } }
        .spinner { border: 3px solid #2a2a3a; border-top-color: #6366f1; border-radius: 50%; width: 36px; height: 36px; animation: spin .8s linear infinite; }
        /* Select styling */
        select { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 10px center; }
        select option { background: #16161e; color: #f1f5f9; }
    </style>
</head>
<body class="text-iris-text font-sans antialiased">
    <div id="root"></div>
    <script>
        // Mouse/touch drag scroll for kiosk mode
        (function() {
            let isDown = false;
            let startY = 0;
            let startScrollTop = 0;

            document.addEventListener('mousedown', function(e) {
                // Don't interfere with buttons/inputs
                if (e.target.closest('button, input, select, a')) return;
                isDown = true;
                startY = e.clientY;
                startScrollTop = window.scrollY;
                document.body.style.cursor = 'grabbing';
            });

            document.addEventListener('mousemove', function(e) {
                if (!isDown) return;
                e.preventDefault();
                const deltaY = startY - e.clientY;
                window.scrollTo(0, startScrollTop + deltaY);
            });

            document.addEventListener('mouseup', function() {
                isDown = false;
                document.body.style.cursor = '';
            });

            document.addEventListener('mouseleave', function() {
                isDown = false;
                document.body.style.cursor = '';
            });

            // Touch events as backup
            document.addEventListener('touchstart', function(e) {
                if (e.target.closest('button, input, select, a')) return;
                if (e.touches.length === 1) {
                    startY = e.touches[0].clientY;
                    startScrollTop = window.scrollY;
                    isDown = true;
                }
            }, { passive: true });

            document.addEventListener('touchmove', function(e) {
                if (isDown && e.touches.length === 1) {
                    const deltaY = startY - e.touches[0].clientY;
                    window.scrollTo(0, startScrollTop + deltaY);
                }
            }, { passive: true });

            document.addEventListener('touchend', function() {
                isDown = false;
            }, { passive: true });
        })();
    </script>
    <script type="module" src="/static/app.js"></script>
</body>
</html>
